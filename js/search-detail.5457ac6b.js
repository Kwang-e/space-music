(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search-detail"],{"0e81":function(t,s,a){},"12c7":function(t,s,a){"use strict";var e=a("69d2"),i=a.n(e);i.a},1799:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.pageNums.length>1?a("ul",{staticClass:"pagination",class:{default:"default"==t.mode}},t._l(t.pageNums,(function(s){return a("li",{key:s,staticClass:"page",class:{active:t.current==s+1},on:{click:function(a){return t.handleClick(s)}}},[t._v(" "+t._s(s+1)+" ")])})),0):t._e()},i=[],n=5,r={name:"Pagination",props:["mode","total","limit","current"],computed:{pageNums:function(){var t=[];if(this.total<=this.limit)t=[0];else{var s,a,e;e=Math.ceil(this.total/this.limit),this.current-3<=0?(s=0,a=n<e?n:e):this.current-3>0&&this.current+2<=e?(s=this.current-3,a=this.current+2):(a=e,s=a-5),s<0&&(s=0);for(var i=s;i<a;i++)t.push(i)}return t}},methods:{handleClick:function(t){t+1!=this.current&&this.$emit("paging",t+1)}}},c=r,l=(a("12c7"),a("2877")),o=Object(l["a"])(c,e,i,!1,null,"10f6c8b4",null);s["a"]=o.exports},"188f":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",{staticClass:"items"},t._l(t.list,(function(s,i){return e("li",{key:i,staticClass:"item",on:{click:function(a){return t.$emit("item-route",{id:s.id,type:t.type})}}},["ranking"==t.type?e("span",{staticClass:"ranking",class:{top3:i<3}},[t._v(" "+t._s((""+(i+1)).padStart(t.list.length.toString().length,0))+" ")]):t._e(),e("span",{staticClass:"thumb",class:{album:"new-albums"==t.type,hide:"search-list"==t.type},style:{backgroundImage:"url("+("new-albums"==t.type?s.picUrl:s.album&&s.album.picUrl||s.album.artist&&s.album.artist.img1v1Url||t.defArtImg)+"?param=120y120)"}}),e("span",{staticClass:"infos"},[e("div",{staticClass:"name"},["new-albums"==t.type?e("label",{staticClass:"size"},[e("img",{attrs:{src:a("b2b8")}}),t._v(t._s(s.size))]):t._e(),t._v(" "+t._s(s.name)+" "),s.alias&&s.alias.length?e("label",{staticClass:"alias"},[t._v("("+t._s(t.alias(s.alias))+")")]):t._e()]),e("div",{staticClass:"names"},[t._v(" "+t._s(1==s.artists.length?"new-albums"==t.type?s.artist.name:s.artists[0].name:s.artists.reduce((function(t,a,e){return t+(a.name+(s.artists.length!=e+1?" / ":""))}),""))+" ")])]),s.duration?e("span",{staticClass:"duration"},[t._v(t._s(t.formatSeconds(s.duration,1e3)))]):t._e()])})),0)},i=[],n=a("1d30"),r=a("182a"),c=a("5fb0"),l={name:"Items",props:{type:{type:String},list:{type:Array,default:function(){return[]}}},data:function(){return{defArtImg:c["a"]}},methods:{alias:n["a"],formatSeconds:r["a"]}},o=l,u=(a("ffa5"),a("2877")),h=Object(u["a"])(o,e,i,!1,null,"23420693",null);s["a"]=h.exports},"48da":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"search-detail"},[a("app-top"),a("back",{on:{back:t.handleBack}}),a("div",{staticClass:"logo-pos"},[a("logo")],1),a("search",{attrs:{keywords:t.$route.params.keywords,suggests:t.suggests,hots:t.hots},on:{search:t.handleSearch,suggest:t.handleSuggest,"hot-keywords":t.handleHot}}),a("h3",{staticClass:"title"},[t._v("搜索结果列表"),a("i",{staticClass:"total"},[t._v("共"+t._s(t.total||t.list&&t.list.length||"0")+"条")])]),t.list&&t.list.length>0?a("items",{attrs:{type:"search-list",list:t.list},on:{"item-route":t.handleItemRoute}}):a("p",{staticClass:"none"},[t._v("没有查询结果")]),t.total>t.limit?a("pagination",{class:{"has-player":t.showPlayer},attrs:{total:t.total,limit:t.limit,current:t.current},on:{paging:t.init}}):t._e()],1)},i=[],n=(a("ac1f"),a("841c"),a("34b2")),r=a("66b7"),c=a("2241"),l=a("c106"),o=a("188f"),u=a("1799"),h={name:"SearchDetail",components:{AppTop:n["a"],Back:r["a"],Logo:c["a"],Search:l["a"],Items:o["a"],Pagination:u["a"]},data:function(){return{list:[],total:0,limit:20,current:1,keywords:null,suggests:[],hots:[]}},computed:{showPlayer:function(){return!!this.$store.state.player.url}},methods:{init:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0;this.$store.commit("setIsLoading",!0),this.keywords=a||this.$route.params.keywords,this.current=s,this.$api.search.search(this.keywords,(this.current-1)*this.limit,this.limit).then((function(s){var a=s.result,e=s.code;200==e&&(t.list=a.songs,t.total=a.songCount),t.$store.commit("setIsLoading",!1)}))},handleBack:function(){history.back()},handleSearch:function(t){this.$router.push({name:"search",params:{keywords:t}}),this.init(this.current,t)},handleSuggest:function(t){var s=this;this.$api.search.suggest(t).then((function(t){200==t.code&&(s.suggests=t.result.allMatch)}))},handleHot:function(){var t=this;this.$api.search.hot().then((function(s){200==s.code&&(t.hots=s.result.hots)}))},handleItemRoute:function(t){var s=t.id;this.$router.push({name:"songDetail",params:{id:s}})}},created:function(){this.init(this.current)}},d=h,m=(a("4dec"),a("2877")),f=Object(m["a"])(d,e,i,!1,null,"0038d2af",null);s["default"]=f.exports},"4dec":function(t,s,a){"use strict";var e=a("edf4"),i=a.n(e);i.a},"5fb0":function(t,s,a){"use strict";a.d(s,"a",(function(){return e}));var e="https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg"},"66b7":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("a",{staticClass:"back",on:{click:function(s){return t.$emit("back")}}})},i=[],n={name:"Back"},r=n,c=(a("8293"),a("2877")),l=Object(c["a"])(r,e,i,!1,null,"7612d1d8",null);s["a"]=l.exports},"69d2":function(t,s,a){},8293:function(t,s,a){"use strict";var e=a("8772"),i=a.n(e);i.a},8772:function(t,s,a){},b2b8:function(t,s,a){t.exports=a.p+"img/songlist-active.f332bfd9.svg"},edf4:function(t,s,a){},ffa5:function(t,s,a){"use strict";var e=a("0e81"),i=a.n(e);i.a}}]);