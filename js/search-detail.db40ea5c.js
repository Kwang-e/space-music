(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search-detail"],{"01c2":function(t,a,s){"use strict";var e=s("6b0d"),i=s.n(e);i.a},"12c7":function(t,a,s){"use strict";var e=s("69d2"),i=s.n(e);i.a},1799:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return t.pageNums.length>1?s("ul",{staticClass:"pagination",class:{default:"default"==t.mode}},t._l(t.pageNums,(function(a){return s("li",{key:a,staticClass:"page",class:{active:t.current==a+1},on:{click:function(s){return t.handleClick(a)}}},[t._v(" "+t._s(a+1)+" ")])})),0):t._e()},i=[],n=5,r={name:"Pagination",props:["mode","total","limit","current"],computed:{pageNums:function(){var t=[];if(this.total<=this.limit)t=[0];else{var a,s,e;e=Math.ceil(this.total/this.limit),this.current-3<=0?(a=0,s=n<e?n:e):this.current-3>0&&this.current+2<=e?(a=this.current-3,s=this.current+2):(s=e,a=s-5),a<0&&(a=0);for(var i=a;i<s;i++)t.push(i)}return t}},methods:{handleClick:function(t){t+1!=this.current&&this.$emit("paging",t+1)}}},l=r,c=(s("12c7"),s("2877")),o=Object(c["a"])(l,e,i,!1,null,"10f6c8b4",null);a["a"]=o.exports},"188f":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"items"},t._l(t.list,(function(a,i){return e("li",{key:i,staticClass:"item",on:{click:function(s){return t.$emit("item-route",{id:a.id,type:t.type})}}},["ranking"==t.type?e("span",{staticClass:"ranking",class:{top3:i<3}},[t._v(" "+t._s((""+(i+1)).padStart(t.list.length.toString().length,0))+" ")]):t._e(),e("span",{staticClass:"thumb",class:{album:"new-albums"==t.type,hide:"search-list"==t.type},style:{backgroundImage:"url("+("new-albums"==t.type?a.picUrl:a.album&&a.album.picUrl||a.album.artist&&a.album.artist.img1v1Url||t.defArtImg)+"?param=120y120)"}}),e("span",{staticClass:"infos"},[e("div",{staticClass:"name"},["new-albums"==t.type?e("label",{staticClass:"size"},[e("img",{attrs:{src:s("b2b8")}}),t._v(t._s(a.size))]):t._e(),t._v(" "+t._s(a.name)+" "),a.alias&&a.alias.length?e("label",{staticClass:"alias"},[t._v("("+t._s(t.alias(a.alias))+")")]):t._e()]),e("div",{staticClass:"names"},[t._v(" "+t._s(1==a.artists.length?"new-albums"==t.type?a.artist.name:a.artists[0].name:a.artists.reduce((function(t,s,e){return t+(s.name+(a.artists.length!=e+1?" / ":""))}),""))+" ")])]),a.duration?e("span",{staticClass:"duration"},[t._v(t._s(t.formatSeconds(a.duration,1e3)))]):t._e()])})),0)},i=[],n=s("1d30"),r=s("182a"),l=s("5fb0"),c={name:"Items",props:{type:{type:String},list:{type:Array,default:function(){return[]}}},data:function(){return{defArtImg:l["a"]}},methods:{alias:n["a"],formatSeconds:r["a"]}},o=c,u=(s("b2dd"),s("2877")),d=Object(u["a"])(o,e,i,!1,null,"37ef9466",null);a["a"]=d.exports},"48da":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"search-detail"},[s("app-top",{attrs:{"page-num":t.current}}),s("back",{on:{back:t.handleBack}}),s("div",{staticClass:"logo-pos"},[s("logo")],1),s("search",{attrs:{keywords:t.$route.params.keywords,suggests:t.suggests,hots:t.hots},on:{search:t.handleSearch,suggest:t.handleSuggest,"hot-keywords":t.handleHot}}),s("ul",{staticClass:"category"},t._l(t.$store.state.search,(function(a,e){return s("li",{key:e,class:{c:e%6!=0,active:a.active},on:{click:function(s){return t.handleCategory(a)}}},[t._v(" "+t._s(a.name)+" ")])})),0),s("h3",{staticClass:"title"},[t._v("搜索结果"),s("i",{staticClass:"cate"},[t._v("（"+t._s(t.activeCategory.name)+"）")]),s("i",{staticClass:"total"},[t._v("共"+t._s(t.total||t.list&&t.list.length||"0")+"条")])]),t.list&&t.list.length>0&&1==t.activeCategory.value?s("items",{attrs:{type:"search-list",list:t.list},on:{"item-route":t.handleItemRoute}}):t.list&&t.list.length>0&&[10,1e3,1009].includes(t.activeCategory.value)?s("items",{attrs:{type:"new-albums",list:t.list},on:{"item-route":t.handleItemRoute}}):t.list&&t.list.length>0&&[100,1002].includes(t.activeCategory.value)?s("ul",{staticClass:"list"},t._l(t.list,(function(a,e){return s("li",{key:e,on:{click:function(s){return t.handleItemRoute(a)}}},[s("span",{staticClass:"thumb",style:{backgroundImage:"url("+a.picUrl+"?param=120y120)"}}),s("span",{staticClass:"name"},[t._v(" "+t._s(a.name)+" "),a.alias&&a.alias.length?s("label",{staticClass:"alias"},[t._v("("+t._s(t.alias(a.alias))+")")]):t._e()])])})),0):s("p",{staticClass:"none"},[t._v("没有查询结果")]),t.total>t.limit?s("pagination",{class:{"has-player":t.showPlayer},attrs:{total:t.total,limit:t.limit,current:t.current},on:{paging:t.init}}):t._e()],1)},i=[],n=(s("7db0"),s("d81d"),s("b0c0"),s("d3b7"),s("ac1f"),s("841c"),s("34b2")),r=s("66b7"),l=s("2241"),c=s("c106"),o=s("188f"),u=s("1799"),d=s("1d30"),h={name:"SearchDetail",components:{AppTop:n["a"],Back:r["a"],Logo:l["a"],Search:c["a"],Items:o["a"],Pagination:u["a"]},data:function(){return{list:[],total:0,limit:20,current:1,keywords:null,suggests:[],hots:[]}},computed:{showPlayer:function(){return!!this.$store.state.player.url},activeCategory:function(){return this.$store.state.search.find((function(t){return t.active}))}},methods:{init:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1?arguments[1]:void 0;this.$store.commit("setIsLoading",!0),this.$route.params.category&&this.$store.commit("setSearch",{value:this.$route.params.category}),this.keywords=s||this.$route.params.keywords,this.current=a,this.list=[],this.total=0,this.$api.search.search(this.keywords,(this.current-1)*this.limit,this.limit,this.activeCategory.value).then((function(a){var s=a.result,e=a.code;if(200==e)switch(t.activeCategory.value){case 1002:return void(s.userprofiles&&(t.list=s.userprofiles.map((function(t){return{id:t.userId,picUrl:t.avatarUrl,name:t.nickname}})),t.total=s.userprofileCount));case 1009:return void(s.djRadios&&(t.list=s.djRadios.map((function(t){return{id:t.id,picUrl:t.picUrl,size:t.programCount,name:t.name,alias:[t.category],artists:[{id:t.dj.userId,name:t.dj.nickname}],artist:{id:t.dj.userId,name:t.dj.nickname}}})),t.total=s.djRadiosCount));case 1e3:return void(s.playlists&&(t.list=s.playlists.map((function(t){return{id:t.id,picUrl:t.coverImgUrl,size:t.trackCount,name:t.name,artists:[{id:t.creator.userId,name:t.creator.nickname}],artist:{id:t.creator.userId,name:t.creator.nickname}}})),t.total=s.playlistCount));case 100:return t.list=s.artists,void(t.total=s.artistCount);case 10:return t.list=s.albums,void(t.total=s.albumCount);case 1:default:return t.list=s.songs,void(t.total=s.songCount)}})).finally((function(){t.$store.commit("setIsLoading",!1)}))},alias:d["a"],handleBack:function(){history.back()},handleSearch:function(t){this.$router.push({name:"searchDetail",params:{keywords:t}}),this.init(this.current,t)},handleSuggest:function(t){var a=this;this.$api.search.suggest(t).then((function(t){200==t.code&&(a.suggests=t.result.allMatch)}))},handleHot:function(){var t=this;this.$api.search.hot().then((function(a){200==a.code&&(t.hots=a.result.hots)}))},handleCategory:function(t){this.$store.commit("setSearch",t),this.init(1,this.keywords)},handleItemRoute:function(t){var a=t.id;switch(this.activeCategory.value){case 1:return void this.$router.push({name:"songDetail",params:{id:a}});case 10:return void this.$router.push({name:"albumDetail",params:{id:a}});case 100:return void this.$router.push({name:"artistDetail",params:{id:a}});case 1e3:return void this.$router.push({name:"playlistDetail",params:{id:a}});case 1009:return void this.$router.push({name:"radioDetail",params:{id:a}});case 1002:return void this.$router.push({name:"userDetail",params:{id:a}})}}},created:function(){this.init(this.current)}},m=h,p=(s("01c2"),s("2877")),f=Object(p["a"])(m,e,i,!1,null,"4f714398",null);a["default"]=f.exports},"4cb2":function(t,a,s){},"5fb0":function(t,a,s){"use strict";s.d(a,"a",(function(){return e}));var e="https://p1.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg"},"66b7":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a",{staticClass:"back",on:{click:function(a){return t.$emit("back")}}})},i=[],n={name:"Back"},r=n,l=(s("f114"),s("2877")),c=Object(l["a"])(r,e,i,!1,null,"2d086ee5",null);a["a"]=c.exports},"69d2":function(t,a,s){},"6b0d":function(t,a,s){},"7db0":function(t,a,s){"use strict";var e=s("23e7"),i=s("b727").find,n=s("44d2"),r="find",l=!0;r in[]&&Array(1)[r]((function(){l=!1})),e({target:"Array",proto:!0,forced:l},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(r)},b2b8:function(t,a,s){t.exports=s.p+"img/songlist-active.f332bfd9.svg"},b2dd:function(t,a,s){"use strict";var e=s("4cb2"),i=s.n(e);i.a},bdfa:function(t,a,s){},f114:function(t,a,s){"use strict";var e=s("bdfa"),i=s.n(e);i.a}}]);