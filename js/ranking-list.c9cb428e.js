(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ranking-list"],{"03b1":function(t,a,s){},"0a17":function(t,a,s){t.exports=s.p+"img/search.403f1f98.svg"},"106e":function(t,a,s){t.exports=s.p+"img/radio.b86ccf58.svg"},"66b7":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a",{staticClass:"back",on:{click:function(a){return t.$emit("back")}}})},i=[],n={name:"Back"},r=n,o=(s("f114"),s("2877")),c=Object(o["a"])(r,e,i,!1,null,"2d086ee5",null);a["a"]=c.exports},6787:function(t,a,s){},"74ad":function(t,a,s){"use strict";var e=s("6787"),i=s.n(e);i.a},"7db0":function(t,a,s){"use strict";var e=s("23e7"),i=s("b727").find,n=s("44d2"),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),e({target:"Array",proto:!0,forced:o},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(r)},9158:function(t,a,s){"use strict";s("0d03");a["a"]=function(t,a){var s=new Date(t),e=s.getFullYear(),i=s.getMonth()+1,n=s.getDate();return e+(a?"年":"-")+(i<10?"0"+i:i)+(a?"月":"-")+(n<10?"0"+n:n)+(a?"日":"")}},"9b9a":function(t,a,s){"use strict";var e=s("03b1"),i=s.n(e);i.a},"9e73":function(t,a,s){},"9f7a":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{name:"zoom"}},[t.show?e("a",{staticClass:"search-button",on:{click:function(a){return t.$router.push({name:"searchIndex"})}}},[e("img",{attrs:{src:s("0a17")}})]):t._e()])},i=[],n={name:"SearchButton",data:function(){return{show:!1}},mounted:function(){this.show=!0}},r=n,o=(s("74ad"),s("2877")),c=Object(o["a"])(r,e,i,!1,null,"6ba87d5b",null);a["a"]=c.exports},bdfa:function(t,a,s){},c589:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ranking-list"},[e("app-top"),e("back",{on:{back:t.handleBack}}),e("div",{staticClass:"logo-pos"},[e("logo")],1),e("search-button"),"artist"==t.type?e("ul",{staticClass:"nav"},t._l(t.$store.state.ranking,(function(a,s){return e("li",{key:s,class:{active:a.active},on:{click:function(s){return t.handleNav(a.value)}}},[t._v(" "+t._s(a.name)+" ")])})),0):t._e(),e("h3",{staticClass:"title"},[t._v(t._s(t.title())),e("i",{staticClass:"total"},[t._v(t._s(t.updateTime&&t.datetime(t.updateTime,!0))+"更新"),e("br"),t._v("前"+t._s(t.list.length)+"名榜单")])]),["artist","24h-dj","new-dj","hot-dj"].includes(t.type)?e("ul",{staticClass:"list1"},t._l(t.list,(function(a,s){return e("li",{key:s},[e("span",{staticClass:"index"},[e("label",{staticClass:"cur",class:{top3:s<3}},[t._v(t._s((""+(s+1)).padStart(t.list.length.toString().length,0)))]),"artist"==t.type?e("label",{staticClass:"rank"},[e("i",{staticClass:"icon",class:{up:s-a.lastRank<0,down:s-a.lastRank>0,stay:s-a.lastRank==0}}),"undefined"!=typeof a.lastRank?e("label",[t._v(t._s(Math.abs(s-a.lastRank)))]):e("label",{staticClass:"new"},[t._v("new")])]):t._e(),"artist"!=t.type?e("label",{staticClass:"rank"},[-1!=a.lastRank?e("i",{staticClass:"icon",class:{up:a.rank-a.lastRank<0,down:a.rank-a.lastRank>0,stay:a.rank-a.lastRank==0}}):t._e(),-1!=a.lastRank?e("label",[t._v(t._s(Math.abs(a.rank-a.lastRank)))]):e("label",{staticClass:"new"},[t._v("new")])]):t._e()]),e("img",{attrs:{src:("artist"==t.type?a.picUrl:a.avatarUrl)+"?param=200y200"},on:{click:function(s){"artist"==t.type?t.handleArtist(a.id):t.handleUser(a.id)}}}),e("span",{staticClass:"name",on:{click:function(s){"artist"==t.type?t.handleArtist(a.id):t.handleUser(a.id)}}},[t._v(" "+t._s("artist"==t.type?a.name:a.nickName)+" "),a.alias&&a.alias.length?e("label",[t._v("("+t._s(t.alias(a.alias))+")")]):t._e()]),e("span",{staticClass:"score"},[e("div",{staticClass:"total"},[e("p",{staticClass:"per",style:{width:a.score/t.list[0].score*100+"%"},attrs:{"data-score":a.score}})])])])})),0):t._e(),["24h-program","program","new-radio","hot-radio"].includes(t.type)?e("ul",{staticClass:"list2"},t._l(t.list,(function(a,i){return e("li",{key:i},[e("span",{staticClass:"index"},[e("label",{staticClass:"cur",class:{top3:i<3}},[t._v(t._s((""+(i+1)).padStart(t.list.length.toString().length,0)))]),e("label",{staticClass:"rank"},[-1!=a.lastRank?e("i",{staticClass:"icon",class:{up:a.rank-a.lastRank<0,down:a.rank-a.lastRank>0,stay:a.rank-a.lastRank==0}}):t._e(),-1!=a.lastRank?e("label",[t._v(t._s(Math.abs(a.rank-a.lastRank)))]):e("label",{staticClass:"new"},[t._v("new")])])]),e("span",{staticClass:"content"},[e("div",{staticClass:"up",on:{click:function(s){["24h-program","program"].includes(t.type)?t.handleProgram(a.program.id):t.handleRadio(a.id)}}},[e("img",{attrs:{src:(["24h-program","program"].includes(t.type)?a.program.coverUrl:a.picUrl)+"?param=120y120"}}),e("span",{staticClass:"wrap"},[e("p",{staticClass:"name"},[["24h-program","program"].includes(t.type)?e("label",{staticClass:"serial"},[t._v("#"+t._s(a.program.serialNum))]):t._e(),e("label",{staticClass:"na"},[t._v(t._s(["24h-program","program"].includes(t.type)?a.program.name:a.name))]),["24h-program","program"].includes(t.type)?e("label",{staticClass:"duration"},[t._v(t._s(t.formatSeconds(a.program.duration,1e3)))]):e("label",{staticClass:"category"},[t._v(t._s(a.category))])]),e("p",{staticClass:"ts"},[e("label",{staticClass:"time"},[t._v(t._s(t.datetime(["24h-program","program"].includes(t.type)?a.program.createTime:a.createTime,!0)))]),e("span",{staticClass:"score"},[e("div",{staticClass:"total"},[e("p",{staticClass:"per",style:{width:a.score/t.list[0].score*100+"%"},attrs:{"data-score":a.score}})])])])])]),e("div",{staticClass:"bottom"},[["24h-program","program"].includes(t.type)?e("span",{staticClass:"radio",on:{click:function(s){return t.handleRadio(a.program.radio.id)}}},[e("img",{attrs:{src:a.program.radio.picUrl+"?param=50y50"}}),e("span",[t._v(t._s(a.program.radio.name))]),e("img",{attrs:{src:s("106e")}})]):t._e(),e("span",{staticClass:"dj"},[e("img",{attrs:{src:s("cabc")}}),e("span",{on:{click:function(s){t.handleUser(["24h-program","program"].includes(t.type)?a.program.dj.userId:a.dj.userId)}}},[t._v(t._s(["24h-program","program"].includes(t.type)?a.program.dj.nickname:a.dj.nickname))]),e("img",{attrs:{src:(["24h-program","program"].includes(t.type)?a.program.dj.avatarUrl:a.dj.avatarUrl)+"?param=50y50"},on:{click:function(s){t.handleUser(["24h-program","program"].includes(t.type)?a.program.dj.userId:a.dj.userId)}}})])])])])})),0):t._e(),e("page-footer")],1)},i=[],n=(s("7db0"),s("b0c0"),s("34b2")),r=s("66b7"),o=s("2241"),c=s("9f7a"),l=s("c8cc"),p=s("1d30"),m=s("d680"),u=s("9158"),d=s("182a"),h={"24h-program":"电台24小时节目榜","24h-dj":"电台24小时主播榜","new-dj":"电台主播新人榜","hot-dj":"电台最热主播榜","new-radio":"新晋电台榜","hot-radio":"热门电台榜",program:"电台节目榜"},g={name:"RankingList",components:{AppTop:n["a"],Back:r["a"],Logo:o["a"],SearchButton:c["a"],PageFooter:l["a"]},data:function(){return{type:"",nav:{name:"华语",value:"1",active:!0},list:[],limit:100,updateTime:void 0}},methods:{init:function(t){var a=this;this.$store.commit("setIsLoading",!0),this.type=this.$route.params.type,"artist"==this.type?this.$api.ranking.artist(t).then((function(t){a.list=t.list.artists,a.updateTime=t.list.updateTime,a.$store.commit("setIsLoading",!1)}))["catch"]((function(){a.$store.commit("setIsLoading",!1),a.$store.commit("setAlert",{type:"error",content:"服务异常"})})):"24h-program"==this.type?this.$api.ranking.program24h(this.limit).then((function(t){a.list=t.data.list,a.updateTime=t.data.updateTime,a.$store.commit("setIsLoading",!1)}))["catch"]((function(){a.$store.commit("setIsLoading",!1),a.$store.commit("setAlert",{type:"error",content:"服务异常"})})):"program"==this.type?this.$api.ranking.program(this.limit).then((function(t){a.list=t.toplist,a.updateTime=t.updateTime,a.$store.commit("setIsLoading",!1)}))["catch"]((function(){a.$store.commit("setIsLoading",!1),a.$store.commit("setAlert",{type:"error",content:"服务异常"})})):"24h-dj"==this.type?this.$api.ranking.dj24h(this.limit).then((function(t){a.list=t.data.list,a.updateTime=t.data.updateTime,a.$store.commit("setIsLoading",!1)}))["catch"]((function(){a.$store.commit("setIsLoading",!1),a.$store.commit("setAlert",{type:"error",content:"服务异常"})})):"new-dj"==this.type?this.$api.ranking.newDj(this.limit).then((function(t){a.list=t.data.list,a.updateTime=t.data.updateTime,a.$store.commit("setIsLoading",!1)}))["catch"]((function(){a.$store.commit("setIsLoading",!1),a.$store.commit("setAlert",{type:"error",content:"服务异常"})})):"hot-dj"==this.type?this.$api.ranking.hotDj(this.limit).then((function(t){a.list=t.data.list,a.updateTime=t.data.updateTime,a.$store.commit("setIsLoading",!1)}))["catch"]((function(){a.$store.commit("setIsLoading",!1),a.$store.commit("setAlert",{type:"error",content:"服务异常"})})):"new-radio"==this.type?this.$api.ranking.newRadio(this.limit).then((function(t){a.list=t.toplist,a.updateTime=t.updateTime,a.$store.commit("setIsLoading",!1)}))["catch"]((function(){a.$store.commit("setIsLoading",!1),a.$store.commit("setAlert",{type:"error",content:"服务异常"})})):"hot-radio"==this.type&&this.$api.ranking.hotRadio(this.limit).then((function(t){a.list=t.toplist,a.updateTime=t.updateTime,a.$store.commit("setIsLoading",!1)}))["catch"]((function(){a.$store.commit("setIsLoading",!1),a.$store.commit("setAlert",{type:"error",content:"服务异常"})}))},title:function(){return"artist"==this.type?"云音乐".concat(this.nav.name||"","歌手榜"):h[this.type]},alias:p["a"],count:m["a"],datetime:u["a"],formatSeconds:d["a"],handleBack:function(){history.back()},handleNav:function(t){var a=this;t!=this.nav.value&&(this.$store.commit("setRanking",{value:t}),this.init(t),this.$nextTick((function(){a.nav=a.$store.state.ranking.find((function(t){return t.active}))})))},handleArtist:function(t){this.$router.push({name:"artistDetail",params:{id:t}})},handleUser:function(t){this.$router.push({name:"userDetail",params:{id:t}})},handleProgram:function(t){this.$router.push({name:"programDetail",params:{id:t}})},handleRadio:function(t){this.$router.push({name:"radioDetail",params:{id:t}})}},created:function(){this.init()}},f=g,v=(s("eb10"),s("2877")),k=Object(v["a"])(f,e,i,!1,null,"3474a076",null);a["default"]=k.exports},c8cc:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"page-footer"},[s("a",{on:{click:t.go2Top}},[t._v("回到顶部")])])},i=[],n={name:"PageFooter",methods:{go2Top:function(){document.querySelector(".app-top").scrollIntoView({behavior:"smooth",block:"start"})}}},r=n,o=(s("9b9a"),s("2877")),c=Object(o["a"])(r,e,i,!1,null,"7a1ce8ae",null);a["a"]=c.exports},cabc:function(t,a,s){t.exports=s.p+"img/mic.63881258.svg"},d680:function(t,a,s){"use strict";s("0d03"),s("d3b7"),s("25f0");a["a"]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=t.toString(),s=a.length;return s<=5?t:5<s&&s<=7?a.substr(0,s-4)+"万":8==s?a.substr(0,s-7)+"."+a.substr(1,s-6)+"千万":s>12?"破兆":a.substr(0,s-8)+"."+a.substr(1,s-7)+"亿"}},eb10:function(t,a,s){"use strict";var e=s("9e73"),i=s.n(e);i.a},f114:function(t,a,s){"use strict";var e=s("bdfa"),i=s.n(e);i.a}}]);