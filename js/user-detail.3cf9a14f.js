(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-detail"],{"043b":function(t,s,a){"use strict";var e=a("9ef1"),i=a.n(e);i.a},"0a17":function(t,s,a){t.exports=a.p+"img/search.403f1f98.svg"},"106e":function(t,s,a){t.exports=a.p+"img/radio.b86ccf58.svg"},"3ac7":function(t,s,a){},"41d3":function(t,s,a){"use strict";var e=a("b6a7"),i=a.n(e);i.a},"66b7":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("a",{staticClass:"back",on:{click:function(s){return t.$emit("back")}}})},i=[],n={name:"Back"},r=n,o=(a("f114"),a("2877")),c=Object(o["a"])(r,e,i,!1,null,"2d086ee5",null);s["a"]=c.exports},6787:function(t,s,a){},"6fc1":function(t,s,a){t.exports=a.p+"img/time.7b9af142.svg"},"74ad":function(t,s,a){"use strict";var e=a("6787"),i=a.n(e);i.a},7661:function(t,s,a){"use strict";var e=a("3ac7"),i=a.n(e);i.a},7856:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{ref:"photo",staticClass:"photo",on:{click:function(s){return t.$emit("close")}}},[a("div",{ref:"img",staticClass:"wrap"},[a("img",{staticClass:"preview",class:{hide:t.loaded},attrs:{src:t.pre}}),a("img",{class:{hide:!t.loaded},attrs:{src:t.url},on:{load:t.handleLoaded}})])])},i=[],n={name:"Photo",props:["pre","url"],data:function(){return{loaded:!1}},methods:{ready:function(){this.fixScroll(this.$refs.photo,this.$refs.img)},handleLoaded:function(){this.loaded=!0},fixScroll:function(t,s){var a,e=function(t){t.addEventListener("touchstart",(function(t){a=Math.floor(t.targetTouches[0].clientY)})),t.addEventListener("touchmove",(function(s){var e=Math.floor(s.targetTouches[0].clientY),i=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;i<=0&&e-a>0?s.preventDefault():i>=n-r&&e-a<0&&s.preventDefault()}),!1)};t.style.display="block",t.addEventListener("touchmove",(function(s){s.stopPropagation(),s.target==t&&s.preventDefault()}),!1),e(s)}},mounted:function(){this.ready()}},r=n,o=(a("ce11"),a("2877")),c=Object(o["a"])(r,e,i,!1,null,"fe7eecd0",null);s["a"]=c.exports},"7a79":function(t,s,a){},9158:function(t,s,a){"use strict";a("0d03");s["a"]=function(t,s){var a=new Date(t),e=a.getFullYear(),i=a.getMonth()+1,n=a.getDate();return e+(s?"年":"-")+(i<10?"0"+i:i)+(s?"月":"-")+(n<10?"0"+n:n)+(s?"日":"")}},9628:function(t,s,a){t.exports=a.p+"img/headphone.8ca2546e.svg"},"9ef1":function(t,s,a){},"9f7a":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"zoom"}},[t.show?e("a",{staticClass:"search-button",on:{click:function(s){return t.$router.push({name:"searchIndex"})}}},[e("img",{attrs:{src:a("0a17")}})]):t._e()])},i=[],n={name:"SearchButton",data:function(){return{show:!1}},mounted:function(){this.show=!0}},r=n,o=(a("74ad"),a("2877")),c=Object(o["a"])(r,e,i,!1,null,"6ba87d5b",null);s["a"]=c.exports},b2b8:function(t,s,a){t.exports=a.p+"img/songlist-active.f332bfd9.svg"},b5eb:function(t,s,a){t.exports=a.p+"img/love.4336cae6.svg"},b6a7:function(t,s,a){},bdfa:function(t,s,a){},c0d6:function(t,s,a){},c35a:function(t,s,a){t.exports=a.p+"img/radio-active.727dee2b.svg"},ce11:function(t,s,a){"use strict";var e=a("c0d6"),i=a.n(e);i.a},d680:function(t,s,a){"use strict";a("0d03"),a("d3b7"),a("25f0");s["a"]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=t.toString(),a=s.length;return a<=5?t:5<a&&a<=7?s.substr(0,a-4)+"万":8==a?s.substr(0,a-7)+"."+s.substr(1,a-6)+"千万":a>12?"破兆":s.substr(0,a-8)+"."+s.substr(1,a-7)+"亿"}},dc81:function(t,s,a){t.exports=a.p+"img/card-imgtxt.6029e0ef.svg"},e43d:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"user-detail"},[a("app-top"),a("back",{on:{back:t.handleBack}}),a("div",{staticClass:"logo-pos"},[a("logo")],1),a("search-button"),a("user-info",{attrs:{info:t.userInfo},on:{avatar:function(s){t.show=!0}}},[a("user-count",{attrs:{count:t.userInfo}})],1),a("user-playlist",{attrs:{uid:t.userId,listenSongs:t.userInfo.listenSongs}}),t.show?a("photo",{attrs:{pre:t.userInfo.avatarUrl+"?param=50y50",url:t.userInfo.avatarUrl},on:{close:function(s){t.show=!1}}}):t._e()],1)},i=[],n=a("34b2"),r=a("66b7"),o=a("2241"),c=a("9f7a"),l=a("7856"),u=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"user-info"},[e("div",{staticClass:"avatar",style:{backgroundImage:"url("+t.info.avatarUrl+"?param=250y250)"},on:{click:function(s){return t.$emit("avatar")}}},[t.info.djStatus&&t.radioId?e("div",{staticClass:"radio"},[e("router-link",{attrs:{to:"/radio/"+t.radioId}},[e("img",{staticClass:"g",attrs:{src:a("106e")}}),e("img",{staticClass:"w",attrs:{src:a("c35a")}}),t._v(" 电台 ")])],1):t._e()]),t.info.allAuthTypes||t.info.vipType?e("p",{staticClass:"extra"},[e("label",{staticClass:"lv"},[t._v("LV"+t._s(t.info.level))]),t.info.allAuthTypes?e("label",{staticClass:"exp"},[t._v(t._s(t.authTypes(t.info.allAuthTypes)))]):t._e(),t.info.vipType?e("label",{staticClass:"vip"},[t._v("VIP")]):t._e()]):t._e(),e("h2",{staticClass:"nickname"},[t._v(" "+t._s(t.info.nickname)+" "),e("label",{staticClass:"gender",class:{male:1==t.info.gender,female:2==t.info.gender,hide:0==t.info.gender}})]),t.info.signature?e("p",{staticClass:"signature"},[t._v(t._s(t.info.signature))]):t._e(),t._t("default")],2)},f=[],d=(a("13d5"),{name:"UserInfo",props:{info:{type:Object,default:function(){}}},data:function(){return{radioId:""}},watch:{info:function(t){var s=this;this.$api.user.program(t.userId).then((function(t){var a=t.programs&&t.programs.length;if(a){var e=t.programs[a-1];s.$api.radio.programDetail(e.id).then((function(t){t.program&&t.program.radio&&t.program.radio.id&&(s.radioId=t.program.radio.id)}))}}))}},methods:{authTypes:function(t){var s=t.reduce((function(t,s){return s.desc&&t.push(s.desc),t}),[]);return s.reduce((function(t,s,a){return 0==a?s:t+" | "+s}))}}}),m=d,h=(a("043b"),a("2877")),p=Object(h["a"])(m,u,f,!1,null,"1c9f90db",null),v=p.exports,g=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"user-count"},[a("span",{staticClass:"count"},[a("label",{staticClass:"name"},[t._v("创建歌单")]),a("label",{staticClass:"num"},[t._v(t._s(t._count(t.count.playlistCount)))])]),a("span",{staticClass:"count"},[a("label",{staticClass:"name"},[t._v("订阅")]),a("label",{staticClass:"num"},[t._v(t._s(t._count(t.count.playlistBeSubscribedCount)))])]),a("span",{staticClass:"count"},[a("label",{staticClass:"name"},[t._v("关注")]),a("label",{staticClass:"num"},[t._v(t._s(t._count(t.count.follows)))])]),a("span",{staticClass:"count"},[a("label",{staticClass:"name"},[t._v("粉丝")]),a("label",{staticClass:"num"},[t._v(t._s(t._count(t.count.followeds)))])])])},b=[],_=a("d680"),C={name:"UserCount",props:{count:{type:Object,default:function(){}}},methods:{_count:_["a"]}},y=C,k=(a("41d3"),Object(h["a"])(y,g,b,!1,null,"1af4a689",null)),x=k.exports,I=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"user-playlist"},[e("h3",{staticClass:"title"},[t._v("全部歌单 "),e("span",{staticClass:"buttons"},[e("img",{class:{active:"image"==t.mode},attrs:{src:a("f153")},on:{click:function(s){return t.handleMode("image")}}}),e("img",{class:{active:"imagetext"==t.mode},attrs:{src:a("dc81")},on:{click:function(s){return t.handleMode("imagetext")}}})]),e("i",{staticClass:"total"},[t._v("第"+t._s(t.offset/t.limit+1)+"页 共"+t._s(t.total(t.list,t.offset))+"张")])]),e("p",{staticClass:"listen-songs"},[t._v(t._s("累积听歌"+t.listenSongs+"首"))]),"image"==t.mode?e("ul",{staticClass:"playlist",class:{image:"image"==t.mode}},t._l(t.list,(function(s,i){return e("li",{key:i},[e("div",{staticClass:"wrap"},[e("div",{staticClass:"track",style:{"background-image":"url("+s.coverImgUrl+"?param=200y200)"},on:{click:function(a){return t.handlePlaylist(s.id)}}},[e("i",{staticClass:"count"},[s.creator.userId==t.uid?e("img",{attrs:{src:a("b2b8")}}):e("img",{attrs:{src:a("b5eb")}}),t._v(" "+t._s(s.trackCount)+" ")]),e("p",{staticClass:"name"},[t._v(t._s(s.name))])])])])})),0):t._e(),"imagetext"==t.mode?e("ul",{staticClass:"playlist",class:{imagetext:"imagetext"==t.mode}},t._l(t.list,(function(s,i){return e("li",{key:i},[e("div",{staticClass:"inner",on:{click:function(a){return t.handlePlaylist(s.id)}}},[e("div",{staticClass:"wrap1",style:{"background-image":"url("+s.coverImgUrl+"?param=200y200)"}},[e("label",[s.creator.userId==t.uid?e("img",{attrs:{src:a("b2b8")}}):e("img",{staticClass:"love",attrs:{src:a("b5eb")}}),t._v(" "+t._s(s.trackCount)+" ")])]),e("div",{staticClass:"wrap2"},[e("p",{staticClass:"name"},[t._v(t._s(s.name))]),e("p",{staticClass:"count"},[e("img",{attrs:{src:a("9628")}}),t._v(t._s(t.count(s.playCount)))]),e("p",{staticClass:"time"},[e("img",{attrs:{src:a("6fc1")}}),t._v(t._s(t.datetime(s.updateTime)))])])]),e("div",{staticClass:"user",on:{click:function(a){return t.handleUser(s.creator.userId)}}},[e("span",[t._v(t._s(s.creator.nickname))]),e("img",{attrs:{src:s.creator.avatarUrl+"?param=50y50"}})])])})),0):t._e(),e("div",{staticClass:"more"},[e("a",{staticClass:"prev",class:{disabled:!t.offset},on:{click:function(s){t.offset&&t.handlePrev()}}},[t._v("上一页")]),e("a",{staticClass:"next",class:{disabled:!t.more},on:{click:function(s){t.more&&t.handleNext()}}},[t._v("下一页")])])])},w=[],$=a("9158"),P={name:"UserPlaylist",props:["uid","listenSongs"],data:function(){return{mode:"image",more:!1,offset:0,limit:18,list:[]}},methods:{init:function(){this.fetchPlaylist(this.offset,this.limit)},count:_["a"],datetime:$["a"],total:function(t,s){if(0==t.length)return s;var a=t.length==this.limit?s+this.limit:s+t.length;return 0==s?a:a+1},fetchPlaylist:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;this.$api.user.playlist(this.uid,s,a).then((function(s){t.more=s.more,t.list=s.playlist}))},handleMode:function(t){this.mode=t},handlePrev:function(){this.offset-=this.limit,this.fetchPlaylist(this.offset,this.limit)},handleNext:function(){this.offset+=this.limit,this.fetchPlaylist(this.offset,this.limit)},handlePlaylist:function(t){this.$router.push({name:"playlistDetail",params:{id:t}})},handleUser:function(t){t!=this.uid&&this.$router.push({name:"userDetail",params:{id:t}})}},created:function(){this.init()}},U=P,S=(a("eca6"),Object(h["a"])(U,I,w,!1,null,"353ec9fc",null)),T=S.exports,D={name:"UserDetail",components:{AppTop:n["a"],Back:r["a"],Logo:o["a"],SearchButton:c["a"],Photo:l["a"],UserInfo:v,UserCount:x,UserPlaylist:T},data:function(){return{userId:"",userInfo:{},show:!1}},watch:{"$route.params":function(){this.init()}},methods:{init:function(){this.userId=this.$route.params.id,this.fetchDetail()},fetchDetail:function(){var t=this;this.$api.user.detail(this.userId).then((function(s){t.userInfo=s.profile,t.userInfo["level"]=s.level,t.userInfo["listenSongs"]=s.listenSongs}))},handleBack:function(){history.back()}},created:function(){this.init()}},j=D,E=(a("7661"),Object(h["a"])(j,e,i,!1,null,"073a9da6",null));s["default"]=E.exports},eca6:function(t,s,a){"use strict";var e=a("7a79"),i=a.n(e);i.a},f114:function(t,s,a){"use strict";var e=a("bdfa"),i=a.n(e);i.a},f153:function(t,s,a){t.exports=a.p+"img/card-square.ec8eba27.svg"}}]);