(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["radio"],{"03b1":function(t,s,a){},"0a17":function(t,s,a){t.exports=a.p+"img/search.403f1f98.svg"},"3eac":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"radio-index"},[a("app-top"),a("back",{on:{back:t.handleBack}}),a("div",{staticClass:"logo-pos"},[a("logo")],1),a("search-button"),a("div",{staticClass:"banner"}),a("div",{staticClass:"ranking"},[a("router-link",{staticClass:"hour",attrs:{to:"/ranking/list/24h-program"}},[t._v("24小时节目榜")]),a("router-link",{staticClass:"hour",attrs:{to:"/ranking/list/24h-dj"}},[t._v("24小时主播榜")]),a("router-link",{staticClass:"new-dj",attrs:{to:"/ranking/list/new-dj"}},[t._v("主播新人榜")]),a("router-link",{staticClass:"hot-dj",attrs:{to:"/ranking/list/hot-dj"}},[t._v("最热主播榜")]),a("router-link",{staticClass:"new-radio",attrs:{to:"/ranking/list/new-radio"}},[t._v("新晋电台榜")]),a("router-link",{staticClass:"hot-radio",attrs:{to:"/ranking/list/hot-radio"}},[t._v("热门电台榜")]),a("router-link",{staticClass:"hot-radio",attrs:{to:"/ranking/list/program"}},[t._v("节目榜")])],1),a("h3",{staticClass:"title"},[t._v("热门电台"),a("i",{staticClass:"total"},[t._v("第"+t._s(t.offset/t.limit+1)+"页 共"+t._s(t.total(t.hots,t.offset,t.limit))+"家")])]),a("ul",{staticClass:"hots"},t._l(t.hots,(function(s,e){return a("li",{key:e},[a("div",{staticClass:"inner",on:{click:function(a){return t.handleItemRoute(s.id)}}},[a("img",{attrs:{src:s.picUrl+"?param=200y200"}}),s.programCount?a("span",{staticClass:"program"},[a("i"),t._v(t._s(s.programCount>999?"999+":s.programCount))]):t._e(),a("div",{staticClass:"wrap"},[a("label",{staticClass:"name"},[t._v(t._s(s.name))]),a("label",{staticClass:"cate"},[t._v(t._s(s.category||"---"))]),a("label",{staticClass:"count"},[t._v(t._s(t.count(s.subCount))),a("span",[t._v("订阅")])])])]),a("div",{staticClass:"dj"},[a("i",{staticClass:"wave",class:{lv1:s.subCount<1e4,lv2:s.subCount>=1e4&&s.subCount<1e6,lv3:s.subCount>=1e6}}),a("span",{on:{click:function(a){return t.handleUser(s.dj.userId)}}},[t._v(t._s(s.dj.nickname))]),a("img",{attrs:{src:s.dj.avatarUrl+"?param=50y50"},on:{click:function(a){return t.handleUser(s.dj.userId)}}})])])})),0),a("div",{staticClass:"more"},[a("a",{staticClass:"prev",class:{disabled:!t.offset},on:{click:function(s){t.offset&&t.handlePrev()}}},[t._v("上一页")]),a("a",{staticClass:"next",class:{disabled:!t.more},on:{click:function(s){t.more&&t.handleNext()}}},[t._v("下一页")])]),a("ul",{staticClass:"category"},t._l(t.categories,(function(s,e){return a("li",{key:e,class:{c:e%5!=0,active:s.id==t.selectCategory.id},on:{click:function(a){return t.handleCategory(s)}}},[t._v(" "+t._s(s.name)+" ")])})),0),a("h3",{staticClass:"title cate-rec"},[t._v("推荐电台"),a("i",{staticClass:"cate"},[t._v("（"+t._s(t.selectCategory.name)+"）")]),a("i",{staticClass:"total"},[t._v("共"+t._s(t.recCatList.length)+"家")])]),a("ul",{staticClass:"list"},t._l(t.recCatList,(function(s,e){return a("li",{key:e},[a("div",{staticClass:"inner",on:{click:function(a){return t.handleItemRoute(s.id)}}},[a("img",{attrs:{src:s.picUrl+"?param=200y200"}}),s.programCount?a("span",{staticClass:"program"},[a("i"),t._v(t._s(s.programCount>999?"999+":s.programCount))]):t._e(),a("div",{staticClass:"wrap"},[a("label",{staticClass:"name"},[t._v(t._s(s.name))]),a("label",{staticClass:"cate"},[t._v(t._s(s.category||"---"))]),a("label",{staticClass:"count"},[t._v(t._s(t.count(s.subCount))),a("span",[t._v("订阅")])])])]),a("div",{staticClass:"dj"},[a("i",{staticClass:"wave",class:{lv1:s.subCount<1e4,lv2:s.subCount>=1e4&&s.subCount<1e6,lv3:s.subCount>=1e6}}),a("span",{on:{click:function(a){return t.handleUser(s.dj.userId)}}},[t._v(t._s(s.dj.nickname))]),a("img",{attrs:{src:s.dj.avatarUrl+"?param=50y50"},on:{click:function(a){return t.handleUser(s.dj.userId)}}})])])})),0),a("h3",{staticClass:"title cate-hot"},[t._v("热门电台"),a("i",{staticClass:"cate"},[t._v("（"+t._s(t.selectCategory.name)+"）")]),a("i",{staticClass:"total"},[t._v("第"+t._s(t.offset2/t.limit2+1)+"页 共"+t._s(t.total(t.hotCatList,t.offset2,t.limit2))+"家")])]),a("ul",{staticClass:"list"},t._l(t.hotCatList,(function(s,e){return a("li",{key:e},[a("div",{staticClass:"inner",on:{click:function(a){return t.handleItemRoute(s.id)}}},[a("img",{attrs:{src:s.picUrl+"?param=200y200"}}),s.programCount?a("span",{staticClass:"program"},[a("i"),t._v(t._s(s.programCount>999?"999+":s.programCount))]):t._e(),a("div",{staticClass:"wrap"},[a("label",{staticClass:"name"},[t._v(t._s(s.name))]),a("label",{staticClass:"cate"},[t._v(t._s(s.category||"---"))]),a("label",{staticClass:"count"},[t._v(t._s(t.count(s.subCount))),a("span",[t._v("订阅")])])])]),a("div",{staticClass:"dj"},[a("i",{staticClass:"wave",class:{lv1:s.subCount<1e4,lv2:s.subCount>=1e4&&s.subCount<1e6,lv3:s.subCount>=1e6}}),a("span",{on:{click:function(a){return t.handleUser(s.dj.userId)}}},[t._v(t._s(s.dj.nickname))]),a("img",{attrs:{src:s.dj.avatarUrl+"?param=50y50"},on:{click:function(a){return t.handleUser(s.dj.userId)}}})])])})),0),a("div",{staticClass:"more"},[a("a",{staticClass:"prev",class:{disabled:!t.offset2},on:{click:function(s){t.offset2&&t.handlePrev2()}}},[t._v("上一页")]),a("a",{staticClass:"next",class:{disabled:!t.more2},on:{click:function(s){t.more2&&t.handleNext2()}}},[t._v("下一页")])]),a("page-footer")],1)},i=[],n=(a("d81d"),a("b0c0"),a("34b2")),o=a("66b7"),r=a("2241"),c=a("9f7a"),l=a("c8cc"),u=a("d680"),d={name:"RadioIndex",components:{AppTop:n["a"],Back:o["a"],Logo:r["a"],SearchButton:c["a"],PageFooter:l["a"]},data:function(){return{more:!0,offset:0,limit:10,hots:[],categories:[],selectCategory:{id:2001,name:"创作|翻唱"},more2:!0,offset2:0,limit2:10,hotCatList:[],recCatList:[]}},methods:{init:function(){this.fetchHot(),this.fetchCategory(),this.fetchRecommendOfCategory(),this.fetchHotOfCategory()},count:u["a"],fetchHot:function(){var t=this;this.$api.radio.hot(this.offset,this.limit).then((function(s){t.more=s.hasMore,t.hots=s.djRadios}))},fetchCategory:function(){var t=this;this.$api.radio.category().then((function(s){t.categories=s.categories.map((function(t){return{id:t.id,name:t.name}}))}))},fetchRecommendOfCategory:function(){var t=this;this.selectCategory=this.$store.state.radio.selectCategory,this.$api.radio.recommendOfCategory(this.selectCategory.id).then((function(s){t.recCatList=s.djRadios}))},fetchHotOfCategory:function(){var t=this;this.$store.commit("setIsLoading",!0),this.selectCategory=this.$store.state.radio.selectCategory,this.$api.radio.hotOfCategory(this.selectCategory.id,this.offset2,this.limit2).then((function(s){t.more2=s.hasMore,t.hotCatList=s.djRadios,t.$store.commit("setIsLoading",!1)}))["catch"]((function(){t.$store.commit("setIsLoading",!1),t.$store.commit("setAlert",{type:"error",content:"服务异常"})}))},total:function(t,s,a){return 0==t.length?s:t.length==a?s+a:s+t.length},handleBack:function(){history.back()},handleCategory:function(t){this.$store.commit("setRadio",t),this.fetchRecommendOfCategory(),this.fetchHotOfCategory()},handlePrev:function(){this.offset-=this.limit,this.fetchHot()},handleNext:function(){this.offset+=this.limit,this.fetchHot()},handlePrev2:function(){this.offset2-=this.limit2,this.fetchHotOfCategory()},handleNext2:function(){this.offset2+=this.limit2,this.fetchHotOfCategory()},handleItemRoute:function(t){this.$router.push({name:"radioDetail",params:{id:t}})},handleUser:function(t){this.$router.push({name:"userDetail",params:{id:t}})}},created:function(){this.init()}},h=d,f=(a("87ed"),a("2877")),C=Object(f["a"])(h,e,i,!1,null,"11e78195",null);s["default"]=C.exports},"66b7":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("a",{staticClass:"back",on:{click:function(s){return t.$emit("back")}}})},i=[],n={name:"Back"},o=n,r=(a("f114"),a("2877")),c=Object(r["a"])(o,e,i,!1,null,"2d086ee5",null);s["a"]=c.exports},6787:function(t,s,a){},"74ad":function(t,s,a){"use strict";var e=a("6787"),i=a.n(e);i.a},"87ed":function(t,s,a){"use strict";var e=a("9420"),i=a.n(e);i.a},9420:function(t,s,a){},"9b9a":function(t,s,a){"use strict";var e=a("03b1"),i=a.n(e);i.a},"9f7a":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"zoom"}},[t.show?e("a",{staticClass:"search-button",on:{click:function(s){return t.$router.push({name:"searchIndex"})}}},[e("img",{attrs:{src:a("0a17")}})]):t._e()])},i=[],n={name:"SearchButton",data:function(){return{show:!1}},mounted:function(){this.show=!0}},o=n,r=(a("74ad"),a("2877")),c=Object(r["a"])(o,e,i,!1,null,"6ba87d5b",null);s["a"]=c.exports},bdfa:function(t,s,a){},c8cc:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"page-footer"},[a("a",{on:{click:t.go2Top}},[t._v("回到顶部")])])},i=[],n={name:"PageFooter",methods:{go2Top:function(){document.querySelector(".app-top").scrollIntoView({behavior:"smooth",block:"start"})}}},o=n,r=(a("9b9a"),a("2877")),c=Object(r["a"])(o,e,i,!1,null,"7a1ce8ae",null);s["a"]=c.exports},d680:function(t,s,a){"use strict";a("0d03"),a("d3b7"),a("25f0");s["a"]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=t.toString(),a=s.length;return a<=5?t:5<a&&a<=7?s.substr(0,a-4)+"万":8==a?s.substr(0,a-7)+"."+s.substr(1,a-6)+"千万":a>12?"破兆":s.substr(0,a-8)+"."+s.substr(1,a-7)+"亿"}},f114:function(t,s,a){"use strict";var e=a("bdfa"),i=a.n(e);i.a}}]);